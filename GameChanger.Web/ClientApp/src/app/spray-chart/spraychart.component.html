<team-nav-bar></team-nav-bar>
<div class="wrapper">
  <ng-container *ngFor="let player of playerSprayInfo">
    <div class="tile">
      <div class="stats">
        <table class="gcTable statTable withGridLines withOutline withHoverHighlighting">
          <thead>
            <tr>
              <th class="jerseyNumberCell header">#</th>
              <th class="playerNameCell invertLinkUnderline strong header headerSortDown">First</th>
              <th class="playerNameCell invertLinkUnderline strong header headerSortDown">Last</th>
              <th class="statCell header">GP</th>
              <th class="statCell header">PA</th>
              <th class="statCell header">AB</th>
              <th class="statCell header">HR</th>
              <th class="statCell header">BB</th>
              <th class="statCell header">SO</th>
              <th class="statCell header">AVG</th>
              <th class="statCell header">OBP</th>
              <th class="statCell header">SLG</th>
              <th class="statCell header">OPS</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td class="jerseyNumberCell">{{ player.number }}</td>
              <td class="playerNameCell invertLinkUnderline strong">{{ player.first_name }}</td>
              <td class="playerNameCell invertLinkUnderline strong">{{ player.last_name }}</td>
              <td class="statCell">{{ player.offenseInfo.gp }}</td>
              <td class="statCell">{{ player.offenseInfo.pa }}</td>
              <td class="statCell">{{ player.offenseInfo.ab }}</td>
              <td class="statCell">{{ player.offenseInfo.hr }}</td>
              <td class="statCell">{{ player.offenseInfo.bb }}</td>
              <td class="statCell">{{ player.offenseInfo.so }}</td>
              <td class="statCell">{{ player.offenseInfo.avg | number: '1.3-3' }}</td>
              <td class="statCell">{{ player.offenseInfo.obp | number: '1.3-3' }}</td>
              <td class="statCell">{{ player.offenseInfo.slg | number: '1.3-3' }}</td>
              <td class="statCell">{{ player.offenseInfo.ops | number: '1.3-3' }}</td>
            </tr>
          </tbody>
        </table>
      </div>

      <div class="spraychart">
        <figure class="SprayChart__container">
          <svg width="245px" viewBox="0 0 320 480" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
            <title>{{player.first_name }} {{player.last_name }}</title>
            <defs>
              <path d="M205.655644,240.387546 C202.634077,243.459998 202.635349,248.397025 205.658511,251.471029 L178.263717,278.014768 C178.245241,277.995892 170.904188,270.231438 159.901426,270.231438 C148.898664,270.231438 141.581169,278.902397 141.562703,278.921264 L114.147208,251.44738 C117.168775,248.374928 117.167503,243.437901 114.144341,240.363897 L154.336208,200.101844 C157.410408,203.158464 162.37041,203.159746 165.443033,200.104713 L205.655644,240.387546 Z" id="Baseball-Diamond-legend-path-1"></path>
            </defs>
            <g id="Baseball-Season,-Player-Stats" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
              <g id="Field-&amp;-Legend">
                <rect id="320x480-SVG" x="0" y="0" width="320" height="480"></rect>
                <path d="M237.609577,229.299862 C228.432604,194.989366 197.163117,169.724719 160,169.724719 C122.803685,169.724719 91.5115345,195.034524 82.3658827,229.391832 C82.3652227,229.394311 55.2432618,202.321081 1,148.172141 C27.3762229,86.5315996 88.6341713,43 159.999502,43 C231.365829,43 292.622781,86.5315996 319,148.172141 L182.03012,284.895924 C183.325172,287.8707 184.40625,290.533196 184.40625,293.984533 C184.40625,307.446637 173.479,318.359787 159.999502,318.359787 C146.520004,318.359787 135.592754,307.446637 135.592754,293.984533 C135.592754,290.533196 136.675824,287.8707 137.96988,284.895924 L82.3714674,229.397407" id="Baseball-Diamond-Combined-Shape" stroke="#667C8C" stroke-width="0.751272945"></path>
                <polygon id="Baseball-Diamond-Fill-12" fill="#9DB2C4" points="155.367018 291.902403 155.367018 296.46134 159.897659 301.020277 164.428299 296.46134 164.478766 291.902403"></polygon>
                <polygon id="Baseball-Diamond-Fill-14" fill="#9DB2C4" points="112.383633 246.011583 108.738565 249.658733 105.094234 246.011583 108.738565 242.364434"></polygon>
                <polygon id="Baseball-Diamond-Fill-16" fill="#9DB2C4" points="163.642157 194.690046 159.99709 198.337195 156.352759 194.690046 159.99709 191.042896"></polygon>
                <polygon id="Baseball-Diamond-Fill-18" fill="#9DB2C4" points="214.900682 246.011583 211.256351 249.658733 207.611283 246.011583 211.256351 242.364434"></polygon>
                <mask id="Baseball-Diamond-mask-2" fill="white">
                  <use xlink:href="#legend-path-1"></use>
                </mask>
                <path stroke="#667C8C" stroke-width="0.751272956" d="M154.3431,200.626634 C155.914579,202.055552 157.902453,202.770271 159.890116,202.770785 C161.877816,202.771298 163.865344,202.057585 165.436131,200.629493 L165.436131,200.629493 L205.132679,240.395363 C203.720177,241.96528 203.014155,243.946931 203.014667,245.928806 C203.015179,247.908728 203.720842,249.888804 205.131446,251.458677 L205.131446,251.458677 L178.263303,277.492126 C176.34515,275.672816 169.494464,269.855802 159.901426,269.855802 C149.969678,269.855802 142.992663,276.811768 141.553243,278.369254 L141.553243,278.369254 L114.670174,251.439562 C116.082675,249.869645 116.788697,247.887995 116.788185,245.906121 C116.787672,243.924286 116.080646,241.942298 114.667317,240.371702 L114.667317,240.371702 Z"></path>
                <g id="Baseball-Diamond-Out" transform="translate(1.000000, 302.684928)">
                  <path d="M19.9612277,9.92266876 C21.100748,9.92266876 21.9905476,9.56025801 22.6306262,8.83543652 C23.2707049,8.11061502 23.5907443,7.11533774 23.5907443,5.84960468 C23.5907443,4.58026554 23.2716064,3.58498826 22.6333308,2.86377284 C21.9950552,2.14255742 21.1079602,1.78194971 19.9720459,1.78194971 C18.8036769,1.78194971 17.9021576,2.13624678 17.2674881,2.84484093 C16.6328185,3.55343508 16.3154837,4.55141692 16.3154837,5.83878645 C16.3154837,7.1369742 16.631917,8.1421682 17.2647835,8.85436842 C17.89765,9.56656865 18.7964648,9.92266876 19.9612277,9.92266876 Z M19.9612277,9.11671053 C19.0921631,9.11671053 18.4295464,8.83994411 17.9733777,8.28641128 C17.5172089,7.73287844 17.2891245,6.92060958 17.2891245,5.84960468 C17.2891245,4.79302409 17.5172089,3.98796738 17.9733777,3.43443454 C18.4295464,2.88090171 19.0957692,2.60413529 19.9720459,2.60413529 C20.8447166,2.60413529 21.5037271,2.87909867 21.9490777,3.42902542 C22.3944282,3.97895218 22.6171035,4.78581193 22.6171035,5.84960468 C22.6171035,6.92421565 22.3935267,7.73738604 21.9463731,8.28911584 C21.4992196,8.84084563 20.8375044,9.11671053 19.9612277,9.11671053 Z M27.3122158,9.92266876 C27.7305208,9.92266876 28.1028482,9.84513811 28.4291982,9.69007679 C28.7555482,9.53501548 29.0106782,9.31143869 29.1945881,9.01934645 L29.1945881,9.01934645 L29.2432701,9.01934645 L29.3730889,9.81448645 L30.1141377,9.81448645 L30.1141377,3.8860957 L29.2162245,3.8860957 L29.2162245,7.00174631 C29.2162245,7.76984073 29.072883,8.32337357 28.7861999,8.66234482 C28.4995167,9.00131606 28.0460525,9.17080169 27.4258073,9.17080169 C26.9570172,9.17080169 26.6126369,9.05180114 26.3926662,8.81380005 C26.1726955,8.57579897 26.0627101,8.21519126 26.0627101,7.73197692 L26.0627101,7.73197692 L26.0627101,3.8860957 L25.1539787,3.8860957 L25.1539787,7.76443162 C25.1539787,8.51810173 25.333381,9.06622545 25.6921857,9.40880278 C26.0509904,9.7513801 26.5910004,9.92266876 27.3122158,9.92266876 Z M33.8031546,9.92266876 C33.9546099,9.92266876 34.124997,9.90734294 34.314316,9.87669128 C34.5036351,9.84603962 34.6469767,9.8072743 34.7443407,9.76039529 L34.7443407,9.76039529 L34.7443407,9.07343761 C34.6577949,9.09868015 34.5405974,9.12302117 34.3927482,9.14646067 C34.2448991,9.16990017 34.0916408,9.18161992 33.9329734,9.18161992 C33.6372751,9.18161992 33.4046831,9.08605888 33.2351975,8.89493679 C33.0657119,8.7038147 32.980969,8.42975284 32.980969,8.07275121 L32.980969,8.07275121 L32.980969,4.58387162 L34.7010678,4.58387162 L34.7010678,3.8860957 L32.980969,3.8860957 L32.980969,2.51218032 L32.4616939,2.51218032 L32.0830558,3.77791338 L31.2338247,4.15114236 L31.2338247,4.58387162 L32.0830558,4.58387162 L32.0830558,8.11061502 C32.0830558,9.31865085 32.6564221,9.92266876 33.8031546,9.92266876 Z" fill="#35373D" fill-rule="nonzero"></path>
                  <circle id="Baseball-Diamond-Oval-2-Copy-72" stroke="#61000D" stroke-width="0.74941452" fill="#B90018" cx="5.21311475" cy="5.25301104" r="4.83840749"></circle>
                </g>
                <g id="Baseball-Diamond-Hit" transform="translate(1.000000, 283.135748)">
                  <path d="M17.6461262,9.81448645 L17.6461262,6.09301488 L21.8111452,6.09301488 L21.8111452,9.81448645 L22.7306949,9.81448645 L22.7306949,1.90635937 L21.8111452,1.90635937 L21.8111452,5.2708293 L17.6461262,5.2708293 L17.6461262,1.90635937 L16.7265765,1.90635937 L16.7265765,9.81448645 L17.6461262,9.81448645 Z M25.2188881,2.88000019 C25.3631312,2.88000019 25.4875408,2.83041663 25.5921171,2.73124951 C25.6966933,2.63208239 25.7489814,2.48152867 25.7489814,2.27958835 C25.7489814,2.07764803 25.6966933,1.92799583 25.5921171,1.83063175 C25.4875408,1.73326767 25.3631312,1.68458563 25.2188881,1.68458563 C25.0674328,1.68458563 24.9412201,1.73236615 24.84025,1.82792719 C24.7392798,1.92348824 24.6887947,2.07404195 24.6887947,2.27958835 C24.6887947,2.48152867 24.7392798,2.63208239 24.84025,2.73124951 C24.9412201,2.83041663 25.0674328,2.88000019 25.2188881,2.88000019 Z M25.6624356,9.81448645 L25.6624356,3.8860957 L24.7645224,3.8860957 L24.7645224,9.81448645 L25.6624356,9.81448645 Z M29.3514524,9.92266876 C29.5029077,9.92266876 29.6732948,9.90734294 29.8626139,9.87669128 C30.0519329,9.84603962 30.1952745,9.8072743 30.2926386,9.76039529 L30.2926386,9.76039529 L30.2926386,9.07343761 C30.2060927,9.09868015 30.0888952,9.12302117 29.941046,9.14646067 C29.7931969,9.16990017 29.6399386,9.18161992 29.4812712,9.18161992 C29.1855729,9.18161992 28.9529809,9.08605888 28.7834953,8.89493679 C28.6140097,8.7038147 28.5292669,8.42975284 28.5292669,8.07275121 L28.5292669,8.07275121 L28.5292669,4.58387162 L30.2493656,4.58387162 L30.2493656,3.8860957 L28.5292669,3.8860957 L28.5292669,2.51218032 L28.0099918,2.51218032 L27.6313537,3.77791338 L26.7821225,4.15114236 L26.7821225,4.58387162 L27.6313537,4.58387162 L27.6313537,8.11061502 C27.6313537,9.31865085 28.2047199,9.92266876 29.3514524,9.92266876 Z" fill="#35373D" fill-rule="nonzero"></path>
                  <circle id="Baseball-Diamond-Oval-2-Copy-40" stroke="#009B4D" stroke-width="0.74941452" fill="#00D682" cx="5.21311475" cy="5.25301104" r="4.83840749"></circle>
                </g>
              </g>
            </g>
            <ng-container *ngFor="let chart of player.sprayChart">
              <ng-container *ngIf="chart.attributes.hrLocation; then thenBlock else elseBlock"></ng-container>
              <ng-template #thenBlock>
              </ng-template>
              <ng-template #elseBlock>
                <ng-container *ngIf="chart.attributes.defenders[0]">
                  <circle [attr.fill]="chart.attributes.playResult.includes('batter_out') || chart.attributes.playResult.includes('error') || chart.attributes.playResult.includes('sacrifice_fly') || chart.attributes.playResult.includes('sacrifice_bunt')  ?  '#B90018' : '#00D682'"
                          [attr.cx]="convertCoordinates(chart.attributes.defenders[0].location).x"
                          [attr.cy]="convertCoordinates(chart.attributes.defenders[0].location).y"
                          r="4"
                          stroke="chart.attributes.playResult.includes('batter_out') ?  '#61000D' : '#009B4D'"
                          stroke-width="1.143">
                  </circle>
                </ng-container>
              </ng-template>
            </ng-container>
            000
          </svg>
        </figure>
      </div>
    </div>
  </ng-container>
</div>
